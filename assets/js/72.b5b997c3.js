(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{406:function(s,t,a){"use strict";a.r(t);var r=a(4),n=Object(r.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("假设 sql 数据已导出。这里通过宝塔 Linux 面板来添加数据库（ps：我用的腾讯云轻量服务器）。")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s3.bmp.ovh/imgs/2022/04/26/21865d870c14ec90.png",alt:""}})]),s._v(" "),t("p",[s._v("提交完毕后，列表中就会出现一条数据，然后点击 “管理”，可进入到 phpMyAdmin 中看到刚刚创建的那个数据库了。"),t("br"),s._v("\n然后点击 “导入”，上传本地的.sql 文件即可。")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s3.bmp.ovh/imgs/2022/04/26/d567a9c4acc7dbe5.png",alt:""}})]),s._v(" "),t("p",[s._v("这时候本地数据库就上传到远程服务器上了，本地如果要访问服务器数据库，那么本地项目（koa2）的数据库配置文件中就要这样写了。")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" mysql "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("host")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("         "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 此处改为远程服务器的公网IP")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("port")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'3306'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("              "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 数据库默认端口，不用变")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("user")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'DEMO'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("              "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 上面创建的数据库用户名")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("password")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'RD4bp4tYHwBmMa8s'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 创建数据库时的密码")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("database")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'demo'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("             "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 创建的数据库名")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" mysql\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("然后启动本地 node 项目，开打前端项目，即可访问远程服务器的数据库，并进行增删改查操作了。")]),s._v(" "),t("p",{staticStyle:{color:"rgb(255, 0, 0)"}},[s._v("ps：宝塔面板中防火墙跟腾讯云轻量服务器中的防火墙都需放行3306端口，否则本地项目连接数据库会被拒绝，报错：‘net::ERR_CONNECTION_REFUSED‘\n")])])}),[],!1,null,null,null);t.default=n.exports}}]);